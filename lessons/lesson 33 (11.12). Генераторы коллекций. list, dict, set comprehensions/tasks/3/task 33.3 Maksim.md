# Задание 33.3. Генераторы коллекций. list, dict, set comprehensions

## Блок урока
«Dict comprehensions» раскрывает возможности упаковки сложных структур данных в словари с вычисляемыми значениями без промежуточных циклов.

## Условие задачи
**Сложность**: <span style="color: #c62828">● сложный</span>. примерное время: 15–20 минут

Тебе дают список `departments`. Каждый элемент — словарь с ключами `"name"`, `"employees"` и `"budget"`. Поле `"employees"` — список словарей `{ "name": str, "salary": int, "is_remote": bool }`. Сформируй одним dict comprehension словарь `dept_summary`, где для каждого отдела сохраняется кортеж `(средняя_зарплата, доля_удалённых)`:
- средняя зарплата — среднее арифметическое по `salary`, округлённое до целого вверх
- доля удалённых — отношение количества сотрудников с `is_remote == True` к общему числу, округлённое до двух знаков
Добавляй в результат только отделы, у которых не меньше трёх сотрудников и бюджет ≥ суммарной зарплаты.

## Пример входных данных
```
departments = [
    {
        "name": "Backend",
        "budget": 600000,
        "employees": [
            {"name": "Ann", "salary": 180000, "is_remote": True},
            {"name": "Bob", "salary": 170000, "is_remote": False},
            {"name": "Cara", "salary": 160000, "is_remote": True}
        ]
    },
    {
        "name": "Ops",
        "budget": 250000,
        "employees": [
            {"name": "Dan", "salary": 140000, "is_remote": False},
            {"name": "Eve", "salary": 130000, "is_remote": False}
        ]
    }
]
```

## Пример выходных данных
```
{
    'Backend': (170000, 0.67)
}
```

## Критерии успешного выполнения
- `dept_summary` создаётся одним выражением dict comprehension.
- Отделы с менее чем тремя сотрудниками или с дефицитом бюджета не попадают в итог.
- Средняя зарплата округляется вверх с помощью `math.ceil`.
- Доля удалённых округляется до двух знаков через `round(value, 2)`.

## Подсказки
- Подготовь вспомогательные переменные перед comprehension: например, импорт `math` и функция для средней зарплаты.
- Считай суммарную зарплату через `sum(emp["salary"] for emp in dept["employees"])`.
- Количество удалённых удобно вычислять генератором внутри comprehension.

## Частые ошибки и ограничения
- Не создавай словарь в цикле вручную — всё должно быть внутри `{... for ... if ...}`.
- Следи за делением на ноль, прежде чем вычислять долю удалённых.
- Не изменяй исходные структура `departments`.
